# ============================================
# Environment Variables Template
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git (it contains secrets)
#
# Generate JWT secret: openssl rand -base64 64
# ============================================

# ============================================
# REQUIRED - Must be set for production
# ============================================

# JWT Secret - Generate with: openssl rand -base64 64
# This is REQUIRED - no fallback in production
JWT_SECRET=your-generated-secret-here-minimum-64-bytes-base64-encoded

# Database Configuration for Spring Boot App
# These connect the app to MySQL container
MYSQLHOST=shifterizator-mysql
MYSQLPORT=3306
MYSQLDATABASE=shifterizator_prod
MYSQLUSER=shifterizator
MYSQLPASSWORD=your-secure-db-password-here

# Database Configuration for MySQL Container
# These initialize the MySQL container
MYSQL_ROOT_PASSWORD=root
MYSQL_DATABASE=shifterizator_prod
MYSQL_USER=shifterizator
MYSQL_PASSWORD=your-secure-db-password-here

# ============================================
# OPTIONAL - Have sensible defaults
# ============================================

# Application Port (default: 8080)
APP_PORT=8080

# Frontend Port (default: 3000) - only used when running frontend via docker-compose
FRONTEND_PORT=3000

# Frontend Build - API base URL (baked at build time)
# Must be reachable from the browser. Default works for local docker-compose.
VITE_API_BASE_URL=http://localhost:8080/api
VITE_ENV=production

# MySQL Port (default: 3306)
MYSQL_PORT=3306

# JWT Expiration Times (in milliseconds)
# Access token: 15 minutes (default)
JWT_EXPIRATION=900000
# Refresh token: 7 days (default)
JWT_REFRESH_EXPIRATION=604800000

# CORS Configuration
# Allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
# Allowed HTTP methods
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
# Allowed headers (* for all)
CORS_ALLOWED_HEADERS=*
# Allow credentials (true/false)
CORS_ALLOW_CREDENTIALS=true
# Max age for preflight cache (seconds)
CORS_MAX_AGE=3600

# Database SSL Configuration
# For local Docker: false is fine
# For remote production DB: set to true
MYSQL_USE_SSL=false
MYSQL_ALLOW_PUBLIC_KEY_RETRIEVAL=true

# JPA DDL Auto Mode
# Options: validate, update, none
# - validate: Only validates schema (requires tables to exist)
# - update: Creates/updates schema automatically (good for local dev)
# Recommended: update for local development, validate for production
DDL_AUTO=update

# Presentation/Demo Data Seeding
# Set to 'true' to automatically populate database with demo data on first startup
# Only runs if database is empty (no users exist)
# Useful for presentations, demos, and local development
# Default: true (enabled)
ENABLE_DEMO_DATA=true
